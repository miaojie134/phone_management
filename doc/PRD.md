企业手机号码管理系统 MVP - 功能描述

3. 功能需求与功能详述 - 功能描述
   3.1 用户认证 (登录/登出)
   3.1.1 登录功能
   核心功能: 验证管理员身份。
   操作流程: 管理员输入用户名和密码。系统验证凭证的正确性。验证成功则允许访问系统；验证失败则提示错误信息。

3.1.2 登出功能
核心功能: 结束当前管理员的会话。
操作流程: 管理员执行登出操作。系统清除用户的会话信息，并引导用户返回登录界面。

3.2 号码列表功能
核心功能: 集中展示、查询和管理所有手机号码，并能识别潜在风险号码。
功能点:
新增号码: 提供入口以创建新的手机号码记录。
搜索号码: 允许管理员根据关键词（如手机号码、使用人姓名/工号、办卡人姓名/工号）进行模糊查询，并展示匹配结果。
筛选号码:
按“号码状态”（如闲置、在用、待注销等）筛选并展示符合条件的号码。
按“办卡人状态”（在职/离职）筛选并展示符合条件的号码，以帮助识别风险。
查看号码信息: 以列表形式展示每个号码的关键信息，包括：手机号码、当前使用人姓名、办卡人姓名、办卡人的在职状态、号码的当前状态、办卡日期、供应商。
风险号码识别: 系统能标识出那些“办卡人已离职”但号码本身仍处于有效状态（如闲置、在用）的记录。
操作入口: 为列表中的每个号码提供进一步操作的入口，包括：查看号码详情、编辑号码信息、分配号码（仅对闲置号码）、回收号码（仅对在用号码）。
分页浏览: 当号码数量较多时，支持分页显示数据，并允许用户在不同页面间跳转。

3.3 新增/编辑号码功能
核心功能: 创建新的手机号码记录或修改现有手机号码的信息。
功能点 (新增号码):
允许管理员输入并保存以下信息：手机号码（需校验格式和唯一性）、办卡人（从现有员工中选择）、办卡日期、供应商信息、号码的初始状态（默认为“闲置”）、备注。
功能点 (编辑号码):
允许管理员修改现有号码的以下信息：号码状态、供应商信息、备注。手机号码和办卡人信息在编辑时通常不允许直接修改或有特定流程。
数据校验: 对输入的数据进行有效性校验（如必填项、日期格式、手机号格式）。
结果反馈: 操作成功后，系统应有明确的成功提示，并更新号码列表。操作失败则提示错误信息。

3.4 号码详情查看功能
核心功能: 展示单个手机号码的完整信息及其相关的使用历史。
展示信息:
基本信息: 手机号码、办卡人姓名、办卡人的当前在职状态、办卡日期、供应商、当前号码状态、最后更新日期、备注。
当前使用人信息: 如果号码当前已分配，则显示当前使用人的姓名、工号、部门及分配日期。
使用历史: 以列表形式展示该号码历任使用人的姓名、开始使用日期和结束使用日期（若已回收），按时间倒序排列。
操作入口: 提供编辑该号码信息、分配该号码（若闲置）、回收该号码（若在用）以及返回号码列表的功能入口。

3.5 员工列表功能
核心功能: 集中展示、查询和管理所有员工信息。
功能点:
新增员工: 提供入口以创建新的员工记录。
搜索员工: 允许管理员根据关键词（如员工姓名、员工工号）进行模糊查询，并展示匹配结果。
筛选员工: 按“在职状态”（在职/离职）筛选并展示符合条件的员工。
查看员工信息: 以列表形式展示每个员工的关键信息，包括：员工工号、姓名、部门、在职状态、入职日期（MVP 可选）、离职日期（仅离职员工显示）。
操作入口: 为列表中的每个员工提供进一步操作的入口，包括：查看员工详情、编辑员工信息、标记员工为离职（对在职员工）、标记员工为在职（对离职员工，用于修正）。
分页浏览: 当员工数量较多时，支持分页显示数据。

3.6 新增/编辑员工功能
核心功能: 创建新的员工记录或修改现有员工的信息。
功能点 (新增员工):
允许管理员输入并保存以下信息：员工工号（需校验唯一性）、姓名、部门。在职状态默认为“在职”。
功能点 (编辑员工):
允许管理员修改现有员工的以下信息：部门、在职状态。当在职状态从“在职”修改为“离职”时，需要记录离职日期。员工工号在编辑时通常不允许修改。
数据校验: 对输入的数据进行有效性校验（如必填项、工号唯一性）。
结果反馈: 操作成功后，系统应有明确的成功提示，并更新员工列表。操作失败则提示错误信息。

3.7 员工详情查看 (含离职处理) 功能
核心功能: 展示单个员工的完整信息，处理员工离职操作，并显示其关联的号码信息。
展示信息:
基本信息: 员工工号、姓名、部门、当前在职状态、入职日期、离职日期（若已离职）。
关联号码信息:
显示该员工作为“办卡人”的所有手机号码列表（包含号码、当前状态、当前使用人）。
显示该员工当前正在使用的所有手机号码列表（包含号码、办卡人、办卡日期）。
操作功能:
编辑员工信息: 提供入口修改该员工的信息。
标记为离职:
允许管理员将“在职”员工标记为“离职”。
操作时需要管理员确认，并输入离职日期。
系统在将员工标记为离职后，会自动检查该员工作为“办卡人”的有效号码，并对这些号码进行特殊标记（如状态变更为“待核实-办卡人离职”），以便后续处理。
系统会提示管理员检查并处理该离职员工名下作为“办卡人”和“使用人”的号码。
返回列表: 提供返回员工列表页面的功能。

3.8 号码分配与回收功能
3.8.1 分配号码功能
触发条件: 针对状态为“闲置”的号码。
核心功能: 将一个闲置的手机号码分配给一个在职的员工使用。
操作流程: 管理员选择要分配的号码，然后从“在职”员工列表中选择一个员工作为使用人，并记录分配日期（默认为当天，可修改）。
系统影响: 操作成功后，号码的当前使用人被更新，号码状态变更为“在用”，并创建一条新的使用历史记录（记录开始时间）。

3.8.2 回收号码功能
触发条件: 针对状态为“在用”的号码。
核心功能: 从当前使用人处收回一个正在使用的手机号码。
操作流程: 管理员选择要回收的号码，并确认回收操作。
系统影响: 操作成功后，号码的当前使用人被清空，号码状态变更为“闲置”，并更新上一条使用历史记录（记录结束时间）。

3.9 “办卡人已离职”的风险号码管理视图功能
核心功能: 集中展示所有“办卡人已离职”但号码本身仍处于有效状态（如闲置、在用、待核实-办卡人离职）的号码列表，方便管理员进行重点关注和处理。
数据范围: 列表数据是根据“办卡人状态为离职”且“号码状态为有效”的条件预先筛选好的。
展示信息: 列表通常包含手机号码、原办卡人姓名、办卡人离职日期、号码当前状态、当前使用人（如有）。
操作功能: 允许管理员对列表中的每个风险号码进行处理，例如：将其状态更改为“待注销”，或者在完成运营商过户手续后更新办卡人信息并将其状态改回“在用”或“闲置”。
提示信息: 页面会明确告知管理员此列表的用途和重要性。

3.10 数据导入功能
核心功能: 支持管理员从 Excel 或 CSV 文件批量导入初始的员工数据和手机号码数据，以减少手动录入工作量。
员工数据导入:
模板提供: 系统提供标准的员工数据导入模板文件下载。
文件上传: 允许管理员选择并上传符合模板格式的员工数据文件。
数据处理与校验: 系统后端解析上传的文件，对每条数据进行格式和逻辑校验（如工号是否已存在）。
结果反馈: 显示导入操作的结果，包括成功导入的数量、失败的数量，并列出具体的失败原因及对应的行号或数据。
号码数据导入:
模板提供: 系统提供标准的号码数据导入模板文件下载。
文件上传: 允许管理员选择并上传符合模板格式的号码数据文件。
数据处理与校验: 系统后端解析文件，校验数据（如手机号格式、办卡人是否存在于员工库中）。
结果反馈: 显示导入结果，包括成功、失败数量及错误详情。
